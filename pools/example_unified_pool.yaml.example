# Example Unified Account Pool Configuration (LEGACY FORMAT)
# This shows the old raw SQL format which is still supported but deprecated
# Use example_structured_pool.yaml.example for the new filter-based format
# Rename this file to .yaml (remove .example) to activate it

pool_name: "example_unified_pool_legacy"
description: "Example pool using legacy raw SQL (deprecated - use structured filters instead)"

# DEPRECATED: Raw SQL queries
# This format still works but is harder to edit and not GUI-friendly
# Use structured filters (see example_structured_pool.yaml.example) for new pools
queries:
  - name: "high_pack_accounts"
    sql: |
      SELECT device_account, device_password, shinedust, packs_opened, last_used_at
      FROM accounts
      WHERE packs_opened >= 10
      AND is_active = 1
      AND is_banned = 0
      ORDER BY packs_opened DESC

  - name: "recently_active"
    sql: |
      SELECT device_account, device_password, shinedust, packs_opened, last_used_at
      FROM accounts
      WHERE last_used_at >= datetime('now', '-7 days')
      AND is_active = 1
      ORDER BY last_used_at DESC

# Manual inclusions (optional) - Explicitly add specific accounts
# These accounts will be fetched from the database
include:
  - "device123@example.com"
  - "premium_account@example.com"
  - "test_account@example.com"

# Manual exclusions (optional) - Remove specific accounts from the pool
# Exclusions are applied LAST (after queries and inclusions)
exclude:
  - "banned_account@example.com"
  - "maintenance_account@example.com"

# Watched paths (optional) - Folders to monitor for XML imports
# XMLs found in these paths will be:
#   1. Imported to the database (if not exists)
#   2. Copied to global storage (./account_xmls/)
#   3. Added to the pool's account list
# These paths are READ-ONLY (never written to)
watched_paths:
  - "C:/accounts/premium"
  - "D:/backup/premium_accounts"
  - "./imported_accounts"

# Pool configuration
config:
  sort_method: "packs_desc"  # Options: "packs_asc", "packs_desc", "modified_asc", "modified_desc"
  retry_failed: true          # Whether to retry failed accounts
  max_failures: 3             # Max times to retry a failed account
  refresh_interval: 300       # Auto-refresh interval in seconds (0 = disabled)
